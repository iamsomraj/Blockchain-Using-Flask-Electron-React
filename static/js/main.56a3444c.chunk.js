(this["webpackJsonpBlockchain-Client"]=this["webpackJsonpBlockchain-Client"]||[]).push([[0],{216:function(e,t,a){e.exports=a(393)},393:function(e,t,a){"use strict";a.r(t);var l=a(0),n=a.n(l),r=a(40),c=a.n(r),i=a(18),s=a(19),o=a(20),m=a(21),u=a(115),d=a.n(u),E=a(188),p=function(e){return n.a.createElement("div",null,n.a.createElement("h2",{className:"ui center aligned icon header"},n.a.createElement("i",{className:"circular rupee icon"}),"Wallet Generator",n.a.createElement("div",{className:"sub header"},"Press The Button To Generate Your Blockchain Wallet")),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("div",{className:"ui container"},n.a.createElement("div",{className:"ui segment"},n.a.createElement("form",{className:"ui form"},e.warning?n.a.createElement("div",null,n.a.createElement("div",{className:"ui form success"},n.a.createElement("div",{className:"field"},n.a.createElement("br",null),n.a.createElement("div",{className:"ui success message"},n.a.createElement("div",{className:"header"},"Keys are generated"),n.a.createElement("ul",{className:"list"},e.copy?n.a.createElement("li",null,"Your Public Key is copied to clipboard"):"",n.a.createElement("li",null,"Both Public Key and Private Key will help you in your further transactions"),n.a.createElement("li",null,"Keys play crucial role in generating transaction signatures"))),n.a.createElement("br",null))),n.a.createElement("div",{className:"ui form warning"},n.a.createElement("div",{className:"ui warning message"},n.a.createElement("div",{className:"header"},"Important!"),n.a.createElement("ul",{className:"list"},n.a.createElement("li",null,"Save your Public Key and Private Key"),n.a.createElement("li",null,"These keys cannot be recovered once created"),n.a.createElement("li",null,"Sharing your private key can lead to potential security risks"))),n.a.createElement("br",null))):n.a.createElement("div",null),e.error?n.a.createElement("div",null,n.a.createElement("div",{className:"ui form error"},n.a.createElement("div",{className:"ui error message"},n.a.createElement("div",{className:"header"},n.a.createElement("h2",null,"Connection Failure")),n.a.createElement("ul",{className:"list"},n.a.createElement("li",null,"Make sure that the server is running"),n.a.createElement("li",null,"Always check your port address"),n.a.createElement("li",null,"Reload Blockchain Client to make a clean start"))),n.a.createElement("div",{className:"ui conatiner"},n.a.createElement("center",null,n.a.createElement("div",{className:"large ui animated negative button",onClick:e.initial},n.a.createElement("div",{className:"hidden content"},"Reload"),n.a.createElement("div",{className:"visible content"},n.a.createElement("i",{className:"sync icon"})))))),n.a.createElement("br",null)):n.a.createElement("div",null),n.a.createElement("div",{className:"field"},n.a.createElement("center",null,n.a.createElement("div",{className:"large ui animated green button",onClick:e.click},n.a.createElement("h3",null,n.a.createElement("div",{className:"hidden content"},n.a.createElement("i",{className:"key icon"})),n.a.createElement("div",{className:"visible content"},"Generate Keys"))))),n.a.createElement("div",{className:"field"},n.a.createElement("label",null,n.a.createElement("h2",null,"Public Key")),n.a.createElement("textarea",{readOnly:!0,rows:"5",value:e.public})),n.a.createElement("div",{className:"field"},n.a.createElement("label",null,n.a.createElement("h2",null,"Private Key")),n.a.createElement("textarea",{readOnly:!0,rows:"5",value:e.private}))))))},v=a(26),b=a(399),y=a(401),h=a(41),f=a.n(h),g=function(e){function t(){var e,a;Object(i.a)(this,t);for(var l=arguments.length,r=new Array(l),c=0;c<l;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(r)))).state={isPortNotFilled:!0,serverPort:"",transactions:null,isConnectionFailed:!1},a.serverPortHandler=function(e){e.preventDefault(),+e.target.value.slice(0,1)>0&&+e.target.value.slice(0,1)<10&&a.setState({serverPort:e.target.value.slice(0,1)})},a.serverPortSubmitHandler=function(){if(+a.state.serverPort>0&&+a.state.serverPort<10){var e="http://localhost:500";e+=a.state.serverPort;var t=Object(v.a)(a);f.a.get("".concat(e,"/chain")).then((function(e){t.setState({serverPort:t.state.serverPort,isPortNotFilled:!1,transactions:e.data.chain.slice(1),isConnectionFailed:!1})})).catch((function(e){t.setState({isPortNotFilled:!0,serverPort:"",transactions:null,isConnectionFailed:!0}),console.log(e)}))}},a.render=function(){return n.a.createElement("div",null,!0===a.state.isPortNotFilled?n.a.createElement(n.a.Fragment,null,n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement(b.a,{closeIcon:!0,onClose:function(){return a.props.close(a.props.stage)},open:a.state.isPortNotFilled},n.a.createElement(b.a.Header,null,n.a.createElement("h1",null,"Choose your node")),n.a.createElement(b.a.Content,null,n.a.createElement(b.a.Description,null,n.a.createElement(y.a,null,n.a.createElement("h2",null,"Select your port:")),n.a.createElement("p",null,"The number is your node address so that you can specify the node."),a.state.isConnectionFailed?n.a.createElement("div",null,n.a.createElement("div",{className:"ui form error"},n.a.createElement("div",{className:"ui error message"},n.a.createElement("br",null),n.a.createElement("div",{className:"header"},n.a.createElement("h2",null,"Connection Failure")),n.a.createElement("ul",{className:"list"},n.a.createElement("li",null,"Make sure that the server is running"),n.a.createElement("li",null,"Always check your port address"))),n.a.createElement("br",null))):n.a.createElement("div",null),n.a.createElement("div",{className:"ui form"},n.a.createElement("div",{className:"field"},n.a.createElement("input",{type:"number",onChange:a.serverPortHandler,value:a.state.serverPort.slice(0,1)})),n.a.createElement("div",{className:"field"}),n.a.createElement("div",{className:"ui animated blue button",onClick:a.serverPortSubmitHandler},n.a.createElement("div",{className:"visible content"},"Submit"),n.a.createElement("div",{className:"hidden content"},n.a.createElement("i",{className:"right arrow icon"})))))))):n.a.createElement("div",null,n.a.createElement("h2",{className:"ui center aligned icon header"},n.a.createElement("i",{className:"circular list alternate outline icon"}),"View Transaction",n.a.createElement("div",{className:"sub header"},"What a wonderful time to have you here!")),n.a.createElement("br",null),n.a.createElement("div",{className:"ui conatiner"},n.a.createElement("center",null,n.a.createElement("div",{className:"large ui animated blue button",onClick:a.serverPortSubmitHandler},n.a.createElement("div",{className:"hidden content"},"Reload"),n.a.createElement("div",{className:"visible content"},n.a.createElement("i",{className:"sync icon"}))))),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("div",{className:"ui container"},n.a.createElement("div",{className:"ui segment"},n.a.createElement("table",{className:"ui inverted fixed single line five column celled very padded table"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Sender Public Key"),n.a.createElement("th",null,"Recipient Public Key"),n.a.createElement("th",null,"Amount"),n.a.createElement("th",null,"Timestamp"),n.a.createElement("th",null,"Blocknumber"))),n.a.createElement("tbody",null,null!==a.state.transactions?a.state.transactions.map((function(e,t){var a=e.block_number,l=new Date(1e3*e.timestamp).toLocaleString();return n.a.createElement(n.a.Fragment,{key:t},e.transactions.map((function(e,t){return n.a.createElement("tr",{key:t},n.a.createElement("td",null,e.sender_public_key),n.a.createElement("td",null,e.recipient_public_key),n.a.createElement("td",null,e.amount),n.a.createElement("td",null,l),n.a.createElement("td",null,a))})))})):n.a.createElement("tr",null)))))),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null))},a}return Object(m.a)(t,e),t}(n.a.Component),N=function(e){function t(){var e,a;Object(i.a)(this,t);for(var l=arguments.length,r=new Array(l),c=0;c<l;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(r)))).state={sender_public_key:a.props.public||"",sender_private_key:a.props.private||"",recipient_public_key:"",amount:"",isSuccess:!1,serverPort:"",isFormFail:!1,errorText:"Failure"},a.recipientPublicKeyUpdateHandler=function(e){e.preventDefault(),a.setState({recipient_public_key:e.target.value})},a.amountUpdateHandler=function(e){e.preventDefault(),a.setState({amount:e.target.value})},a.portUpdateHandler=function(e){e.preventDefault(),a.setState({serverPort:e.target.value})},a.makeTransactionHandler=function(e){if(e.preventDefault(),""!==a.state.amount&&""!==a.state.sender_private_key&&""!==a.state.sender_public_key&&""!==a.state.recipient_public_key&&""!==a.state.serverPort&&+a.state.serverPort>0&&+a.state.serverPort<10){var t=new FormData;t.set("sender_public_key",a.state.sender_public_key),t.set("sender_private_key",a.state.sender_private_key);var l=Object(v.a)(a);t.set("recipient_public_key",a.state.recipient_public_key),t.set("amount",a.state.amount);var n=new FormData;n.set("confirmation_sender_public_key",a.state.sender_public_key),n.set("confirmation_recipient_public_key",a.state.recipient_public_key),n.set("confirmation_amount",a.state.amount);var r="",c="http://localhost:808";c+=a.props.clientPort,f.a.post("".concat(c,"/generate/transaction"),t,{headers:{"Access-Control-Allow-Origin":c}}).then((function(e){console.log("Client",e.data),r=e.data.signature;var t="http://localhost:500";t+=l.state.serverPort,n.set("transaction_signature",r),n.set("node_url",t),f.a.post("".concat(t,"/transactions/new"),n,{headers:{"Access-Control-Allow-Origin":t}}).then((function(e){console.log("Server",e.data),l.setState({recipient_public_key:"",amount:"",serverPort:"",isSuccess:!0,isFormFail:!1})})).catch((function(e){console.log(e),console.log(l.state),l.setState({recipient_public_key:"",amount:"",serverPort:"",errorText:"Node Server refused to connect",isSuccess:!1,isFormFail:!0})}))})).catch((function(e){console.log(e),console.log(l.state),l.setState({recipient_public_key:"",amount:"",serverPort:"",isSuccess:!1,isFormFail:!0,errorText:"Client Server refused to connect"})}))}},a.render=function(){return n.a.createElement("div",null,n.a.createElement("div",null,n.a.createElement("h2",{className:"ui center aligned icon header"},n.a.createElement("i",{className:"circular credit card outline icon"}),"Make Transaction",n.a.createElement("div",{className:"sub header"},"What a Good Day To Mine Some Cryptographic Coins!"))),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("div",{className:"ui container"},n.a.createElement("div",{className:"ui segment"},n.a.createElement("form",{className:"ui form"},a.state.isSuccess?n.a.createElement("div",{className:"ui form success"},n.a.createElement("div",{className:"field"},n.a.createElement("br",null),n.a.createElement("div",{className:"ui success message"},n.a.createElement("div",{className:"header"},"Transaction Completed"),n.a.createElement("p",null),n.a.createElement("p",null,"You're all signed up for some reward now. "),n.a.createElement("p",null,"Your transaction will be added to the next block. ")),n.a.createElement("br",null))):!0===a.state.isFormFail?n.a.createElement("div",null,n.a.createElement("div",{className:"ui form error"},n.a.createElement("div",{className:"ui error message"},n.a.createElement("div",{className:"header"},n.a.createElement("h2",null,a.state.errorText)),n.a.createElement("ul",{className:"list"},n.a.createElement("li",null,"Make sure that the server is running"),n.a.createElement("li",null,"Always check your port address"),n.a.createElement("li",null,"Some fields may be wrong"))),n.a.createElement("br",null))):n.a.createElement("div",null),n.a.createElement("div",{className:"field"},n.a.createElement("label",null,"Sender Public Key"),n.a.createElement("input",{readOnly:!0,type:"text",name:"sender-public-key",placeholder:"Sender Public Key",value:a.state.sender_public_key,required:!0})),n.a.createElement("div",{className:"field"},n.a.createElement("label",null,"Sender Private Key"),n.a.createElement("input",{readOnly:!0,type:"text",name:"sender-private-key",placeholder:"Sender Private Key",value:a.state.sender_private_key,required:!0})),n.a.createElement("div",{className:"field"},n.a.createElement("label",null,"Recipient Public Key"),n.a.createElement("input",{onChange:a.recipientPublicKeyUpdateHandler,type:"text",name:"recipient-public-key",placeholder:"Recipient Public Key",value:a.state.recipient_public_key,required:!0})),n.a.createElement("div",{className:"field"},n.a.createElement("label",null,"Amount"),n.a.createElement("input",{onChange:a.amountUpdateHandler,type:"text",name:"amount",placeholder:"Amount",value:a.state.amount,required:!0})),n.a.createElement("div",{className:"field"},n.a.createElement("label",null,"Server Port"),n.a.createElement("input",{onChange:a.portUpdateHandler,type:"number",name:"server-port",placeholder:"Server Port Address",value:a.state.serverPort.slice(0,1),required:!0})),n.a.createElement("div",{className:"field"},n.a.createElement("center",null,n.a.createElement("div",{className:"large ui animated positive button",onClick:a.makeTransactionHandler},n.a.createElement("div",{className:"hidden content"},n.a.createElement("i",{className:"handshake white icon"})),n.a.createElement("div",{className:"visible content"},"Transfer"))))))))},a}return Object(m.a)(t,e),t}(l.Component),k=function(e){function t(){var e,a;Object(i.a)(this,t);for(var l=arguments.length,r=new Array(l),c=0;c<l;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(r)))).state={port:a.props.port||"1",publickey:"",privatekey:"",isKeySet:!1,stage:1,prestage:null,isFailed:!1,isCopy:!1},a.restoreHandler=function(e){a.setState({port:a.state.port,publickey:a.state.publickey,privatekey:a.state.privatekey,isKeySet:a.state.isKeySet,stage:e,isFailed:a.state.isFailed})},a.headerHandler=function(e,t){e.preventDefault(),"wallet"===t?a.setState({stage:1}):"make"===t?a.setState({stage:2}):a.setState({prestage:a.state.stage,stage:3})},a.getKeyHandler=function(){var e=Object(E.a)(d.a.mark((function e(t){var l,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l="http://localhost:808",l+=a.state.port,t.preventDefault(),a.state.isKeySet){e.next=19;break}return n=null,e.prev=5,e.next=8,f.a.get("".concat(l,"/wallet/new"),{headers:{"Access-Control-Allow-Origin":l}});case 8:n=e.sent,a.setState({publickey:n.data.public_key,privatekey:n.data.private_key,isKeySet:!0,isFailed:!1});try{navigator.clipboard.writeText(a.state.publickey),console.log("Clipboard success!"),a.setState({isCopy:!0})}catch(r){console.log("Key copy is failed!"),a.setState({isCopy:!1})}e.next=17;break;case 13:e.prev=13,e.t0=e.catch(5),console.log(e.t0),a.setState({isKeySet:!1,isFailed:!0});case 17:e.next=21;break;case 19:a.setState({publickey:a.state.publickey,isKeySet:!0,isFailed:!1}),a.setState({privatekey:a.state.privatekey,isKeySet:!0,isFailed:!1});case 21:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(t){return e.apply(this,arguments)}}(),a.render=function(){return n.a.createElement("div",{className:"App"},n.a.createElement("div",{className:"ui three item fixed borderless menu"},n.a.createElement("a",{href:"/",className:(1===a.state.stage?"active ":" ")+"item ",onClick:function(e){return a.headerHandler(e,"wallet")}},"Wallet Generation"),n.a.createElement("a",{href:"/",className:(2===a.state.stage?"active ":" ")+"item ",onClick:function(e){return a.headerHandler(e,"make")}},"Make Transaction"),n.a.createElement("a",{href:"/",className:(3===a.state.stage?"active ":" ")+"item ",onClick:function(e){return a.headerHandler(e,"view")}},"View Transaction")),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),1===a.state.stage?n.a.createElement("div",null,n.a.createElement(p,{click:a.getKeyHandler,public:a.state.publickey,private:a.state.privatekey,warning:a.state.isKeySet,error:a.state.isFailed,initial:a.props.initialise,copy:a.state.isCopy})):2===a.state.stage?n.a.createElement(N,{public:a.state.publickey,private:a.state.privatekey,clientPort:a.state.port}):3===a.state.stage?n.a.createElement(g,{stage:a.state.prestage,close:a.restoreHandler}):n.a.createElement("div",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("div",{className:"ui inverted vertical footer segment form-page"},n.a.createElement("div",{className:"ui container"},"Made with ",n.a.createElement("i",{className:"heart icon"}),n.a.createElement("span",null," "),"By",n.a.createElement("span",null," "),n.a.createElement("a",{className:"ui white",href:"https://github.com/iamsomraj/",target:"blank"},"Somraj Mukherjee"),n.a.createElement("span",null," "),"\xa9 ",(new Date).getFullYear())))},a}return Object(m.a)(t,e),t}(l.Component),S=function(e){function t(){var e,a;Object(i.a)(this,t);for(var l=arguments.length,r=new Array(l),c=0;c<l;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(r)))).state={isLoginNotDone:!0,instance:""},a.initialiseHandler=function(e){e.preventDefault(),a.setState({isLoginNotDone:!0,instance:""})},a.instanceHandler=function(e){e.preventDefault(),+e.target.value.slice(0,1)>0&&+e.target.value.slice(0,1)<10&&a.setState({instance:e.target.value})},a.instanceSubmitHandler=function(){+a.state.instance>0&&+a.state.instance<10&&a.setState({isLoginNotDone:!1})},a.render=function(){return n.a.createElement("div",null,!0===a.state.isLoginNotDone?n.a.createElement(b.a,{open:a.state.isLoginNotDone},n.a.createElement(b.a.Header,null,n.a.createElement("h1",null,"Choose your port")),n.a.createElement(b.a.Content,null,n.a.createElement(b.a.Description,null,n.a.createElement(y.a,null,n.a.createElement("h2",null,"Enter a number:")),n.a.createElement("p",null,"Instance is your port address so that we can initialise your Blockchain Wallet."),n.a.createElement("div",{className:"ui form"},n.a.createElement("div",{className:"field"},n.a.createElement("input",{type:"number",onChange:a.instanceHandler,value:a.state.instance.slice(0,1)})),n.a.createElement("div",{className:"field"}),n.a.createElement("div",{className:"ui animated blue button",onClick:a.instanceSubmitHandler},n.a.createElement("div",{className:"visible content"},"Submit"),n.a.createElement("div",{className:"hidden content"},n.a.createElement("i",{className:"right arrow icon"}))))))):n.a.createElement(k,{port:a.state.instance,initialise:a.initialiseHandler}))},a}return Object(m.a)(t,e),t}(l.Component);c.a.render(n.a.createElement(S,null),document.getElementById("root"))}},[[216,1,2]]]);
//# sourceMappingURL=main.56a3444c.chunk.js.map